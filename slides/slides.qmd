---
title: "<span style='color: white;font-size: 0.7em;'>Data Visualization</span>"
subtitle: "<span style='color: white;'>Behavioral Data Science Toolbox 2025</span>"
author: "<span style='color: white;'>Lecturers: Annie Johansson and Lilian Ye</span>"
#footer: "<span style='color: white;'>Cover photo made in R by <a href='https://art.djnavarro.net' style='color: pink; text-decoration: underline;'>Danielle Navarro</a></span>"
format: 
  revealjs:
    highlight-style: arrow
    include-navbar: true
    logo: images/uva_logo.png
    preview-links: false
    progress: true
    slide-number: true
    show-slide-number: print
    smaller: false
    touch: true
editor: visual
title-slide-attributes:
  data-background-image: "images/coverphoto.jpg"
  data-background-size: auto
  data-background-opacity: "1.0"
  data-background-repeat: repeat
---

```{r, include=FALSE}
# Install Packages
# Find everything that the user currently has installed
all_installed_packages <- installed.packages()[, "Package"]
# Install any missing, but required packages
# nolint start -- trick to omit some lines from the lintr checker, only if you have a good reason!
if (!"tidyverse" %in% all_installed_packages) {install.packages("tidyverse")}
if (!"devtools" %in% all_installed_packages) {install.packages("devtools")}
if (!"cowplot" %in% all_installed_packages) {install.packages("cowplot")}
if (!"ggplot2" %in% all_installed_packages) {install.packages("ggplot2")}
if (!"datasauRus" %in% all_installed_packages) {install.packages("datasauRus")}
if (!"gt" %in% all_installed_packages) {install.packages("gt")}
#if (!"ggimage" %in% all_installed_packages) {install.packages("ggimage")}
if (!"RXKCD" %in% all_installed_packages) {install.packages("RXKCD")}
if (!"plotly" %in% all_installed_packages) {install.packages("plotly")}
if (!"viridis" %in% all_installed_packages) {install.packages("viridis")}
# nolint end

# Load Required Packages
library(tidyverse)
library(cowplot)
library(ggplot2)
library(datasauRus)
library(gt)
#library(ggimage)
library(RXKCD)
library(plotly)
library(viridis)
```

# üè†

## 

:::::: columns
:::: {.column width="50%"}
::: columns
Slides made using [quarto](https://quarto.org){target="_blank"}

Cover photo made in R by [Danielle Navarro](https://art.djnavarro.net){target="_blank"}
:::
::::

::: {.column width="50%"}
![](images/coverphoto.jpg){fig-align="center" width="80%"}
:::
::::::

## üìå

### [**data-visualization-2025**](https://ann1ejohansson.github.io/data-visualization-2025){target="_blank"}

## Tuesday, Sept 30

-   Why visualize data?
-   What makes a plot good (and bad)?
-   Guiding principles
-   Data Visualization Project

# Why visualize data? üëÄ {background-color="#8000FF"}

## üí¨

### Why visualize data?

## Why visualize data? {.smaller}

:::::: columns
::: {.column width="40%"}
![](images/why-visualize-01.png)
:::

:::: {.column width="60%"}
::: fragment
![](images/why-visualize-02.png)
:::
::::
::::::

## Why visualize data? {.smaller}

::: {layout-ncol="2"}
<a href="images/bandjes1.png" target="_blank"> <img src="images/bandjes1.png" width="500" dpi="1000" style="max-width: 100%;"/> </a>

<a href="images/bandjes2.png" target="_blank"> <img src="images/bandjes2.png" dpi="1000" width="500" style="max-width: 100%;"/> </a>
:::

## Anscombe's quartet {.smaller}

::::: columns
::: {.column width="50%"}
![Source: Same stats, different graphs](images/anscombe1.png) ![Source: Wikipedia](images/anscombe2.png)
:::

::: {.column width="50%"}
```{r}
#| echo: true
#| code-fold: true
#| fig.height: 10
library("datasauRus")
datasaurus_dozen %>% 
  ggplot2::ggplot(aes(x = x, y = y, color = dataset)) +
  ggplot2::geom_point() +
  ggplot2::theme_void() +
  ggplot2::geom_smooth(method = "lm", color = "gray", fill = "gray", alpha = .5) +
  ggplot2::theme(legend.position = "none", text = element_text(size = 30)) +
  ggplot2::facet_wrap(~dataset, ncol = 4)
```
:::
:::::

::: footer
Packages: [datasauRus](https://jumpingrivers.github.io/datasauRus/), [anscombiser](https://paulnorthrop.github.io/anscombiser/).

More information: [Same Stats, Different Graphs](https://www.autodesk.com/research/publications/same-stats-different-graphs), [socviz.co](https://socviz.co/lookatdata.html#why-look-at-data).
:::

## üí¨

### What is more important? An eye or an algorithm?

What are the consequences of overrelying on statistical techniques? <br>What are the consequences of overrelying on visualizations?

# Bad plots üí© {background-color="#8000FF"}

## What makes a bad plot bad?

::::: columns
::: {.column width="40%"}
-   Aesthetic (ugly)

-   Perceptual (bad)

-   Substantive (wrong)
:::

::: {.column width="60%"}
![[Claus Wilke - Ugly, bad, and wrong figures](https://clauswilke.com/dataviz/introduction.html)](images/ugly-bad-wrong.png)
:::
:::::

## üí¨ Speed dates

::::: columns
::: {.column width="40%"}
-   What do you think about this plot?

-   What elements can be improved?

-   Are the problems aesthetic, perceptual, or substantive?
:::

::: {.column width="60%"}
![](images/ireland.png)
:::
:::::

------------------------------------------------------------------------

üí¨

:::::: columns
::: {.column width="60%"}
![reddit.com/r/dataisugly](images/lidl.png){fig-align="left" height="500"}
:::

:::: {.column width="40%"}
::: fragment
-   Misleading (or missing) information?
-   Many data visualizations might have a hidden agenda, due to e.g. marketing strategies.
:::
::::
::::::

::: footer
Check out the classic from Darrel Huff [How to Lie with Statistics](https://www.penguin.co.uk/books/13565/how-to-lie-with-statistics-by-darrell-huff-with-pictures-by-mel-calman/9780140136296) [Lessions from How to Lie with Statistics.](https://towardsdatascience.com/lessons-from-how-to-lie-with-statistics-57060c0d2f19)
:::

------------------------------------------------------------------------

üí¨

:::::: columns
::: {.column width="60%"}
![[Source: reddit.com/r/dataisbeautiful](https://www.reddit.com/r/dataisugly/)](images/data_ink.png){fig-align="left" width="544"}
:::

:::: {.column width="40%"}
::: fragment
-   Data to ink ratio?
:::
::::
::::::

::: footer
[How to maximize the data-to-ink ratio](https://www.codeconquest.com/blog/data-ink-ratio-explained-with-example/)
:::

------------------------------------------------------------------------

### Data to ink ratio

::::: columns
::: {.column width="50%"}
![](images/data_ink.png)
:::

::: {.column width="50%"}
![](images/data_ink2.jpeg){height="500"}
:::
:::::

::: footer
[How to maximize the data-to-ink ratio](https://www.codeconquest.com/blog/data-ink-ratio-explained-with-example/)
:::

------------------------------------------------------------------------

![](images/treemap.png)

------------------------------------------------------------------------

üí¨

:::::: columns
::: {.column width="60%"}
![](images/colors.jpg){width="490"}
:::

:::: {.column width="40%"}
::: fragment
-   Do the colors make sense?
:::
::::
::::::

------------------------------------------------------------------------

![Do the colors make sense?](images/colors2.png)

------------------------------------------------------------------------

üí¨

:::::: columns
::: {.column width="60%"}
![](images/all_elements_needed.jpeg){width="490"}
:::

:::: {.column width="40%"}
::: fragment
-   Are all elements needed?
:::
::::
::::::

------------------------------------------------------------------------

üí¨

:::::: columns
::: {.column width="60%"}
![](images/axes_correct.jpeg){height="500"}
:::

:::: {.column width="40%"}
::: fragment
-   Are the axes correct?
:::
::::
::::::

------------------------------------------------------------------------

![Is a zero-point needed?](images/ireland.png)

------------------------------------------------------------------------

üí¨

:::::: columns
::: {.column width="60%"}
![](images/stacked1.png)
:::

:::: {.column width="40%"}
::: fragment
-   Is it simple?
:::
::::
::::::

------------------------------------------------------------------------

### ‚ö†Ô∏è Stacked bar charts ‚ö†Ô∏è

::::: columns
::: {.column width="60%"}
![](images/stacked2.png)
:::

::: {.column width="40%"}
![](images/brazil.jpeg)
:::
:::::

------------------------------------------------------------------------

### ‚ö†Ô∏è Pie charts ‚ö†Ô∏è

![](images/pie1.png)

------------------------------------------------------------------------

### Visualizing proportions

-   Pie chart, stacked bar, or side-by-side bars?

![](images/proportions.png)

<https://clauswilke.com/dataviz/visualizing-proportions.html#>

------------------------------------------------------------------------

![Elementary Perceptual Tasks](images/ept.png)

::: footer
Original Source: [Cleveland & McGill (1984). 531-554](https://www.tandfonline.com/doi/abs/10.1080/01621459.1984.10478080); [Further summary and examples](https://bookdown.org/dereksonderegger/141/6-graphing-principles.html)
:::

------------------------------------------------------------------------

üí¨

:::::: columns
::: {.column width="60%"}
![](images/storytelling_before.png)
:::

:::: {.column width="40%"}
::: fragment
-   Does it support one conclusion?
:::
::::
::::::

------------------------------------------------------------------------

### Storytelling with data - show just one conclusion!

![](images/storytelling_after.png)

## Exploratory versus explanatory {.smaller .scrollable}

::: notes
Exploratory in the sense of data exploration. Exploratory in the sense of visualization exploration (as in previous example, where the same data can be plotted in several ways). In both cases, you can create ugly plots.

We focus on explanatory data viz (also bridge to next). Beautiful plots!
:::

::::: columns
::: {.column width="50%"}
![Source: [Natalia Kiseleva](https://eolay.tilda.ws/datavizcomics/en)](images/exploratory-explanatory-01.png){fig-align="left" width="333"}
:::

::: {.column width="50%"}
![Source: [Scott McCloud](https://archive.org/details/understanding-comics/)](images/exploratory-explanatory-02.gif){fig-align="left"}

-   **Exploratory**: examine the structure of your data.

-   **Explanatory:** tell a story with your data.
:::
:::::

::: footer
More resources: [clauswilke.com](https://clauswilke.com/dataviz/telling-a-story.html) (telling a story and making a point), [susielu.com](https://www.susielu.com/data-viz/storytelling-in-dashboards) (different interpretation of exploratory/explanatory).
:::

## Exploratory versus explanatory {.smaller .scrollable}

::::: columns
::: {.column width="50%"}
![](images/explore-explain-01.gif){fig-height="200"}
:::

::: {.column width="50%"}
![](images/explore-explain-02.gif){fig-height="300"}
:::
:::::

Source: [storytellingwithdata.com](https://www.storytellingwithdata.com/blog/2014/04/exploratory-vs-explanatory-analysis)

::: footer
More resources: [clauswilke.com](https://clauswilke.com/dataviz/telling-a-story.html) (telling a story and making a point), [susielu.com](https://www.susielu.com/data-viz/storytelling-in-dashboards) (different interpretation of exploratory/explanatory).
:::

## [Some good examples]{style="font-size: 0.7em;"} {.smaller .scrollable}

[![](images/good1.png){width="100%"}](images/good1.png) [Distributions are informative](https://clauswilke.com/dataviz/histograms-density-plots.html)

::::: columns
::: {.column width="50%"}
[![](images/good2.png){width="100%"}](images/good2.png)
:::

::: {.column width="50%"}
[![](images/good3.png){width="100%"}](images/good3.png)
:::
:::::

[NYT Graphic - Obamacare spending](https://www.nytimes.com/interactive/2023/09/05/upshot/medicare-budget-threat-receded.html?pgtype=Article&action=click&module=RelatedLinks)

[How to reproduce a NYT graphic](https://sean.netlify.app/post/how-to-reproduce-a-nyt-graphic/)

# Guiding principles ü™Ñ {background-color="#8000FF"}

## Tips for the best viz

-   Is it **explaining** data?

-   Is the information **complete and correct**?

-   Are **axes** correct? (+ Should they have a zero-point?)

-   Do the **colors** work? ( + Do they map to a relevant attribute?)

-   Are all **elements** needed?

-   What is the **data to ink ratio?**

-   Is it **understandable & simple?**

-   Does it portray **one conclusion**?

## Break

```{r}
#| echo: true
#| code-fold: true
#| results: false
library("RXKCD")
RXKCD::getXKCD(which = "833")
```

# Data Visualization Project üìä {background-color="#8000FF"}

## Aims

Your goal is to go from exploring the Prowise data to telling a story with it.

-   [Assignment 1](../assignments/assignment-1.html){target="_blank"}: Choose a research question. Explore the data and create a set of visualizations to help you understand the data.

-   [Assignment 2](../assignments/assignment-2.html){target="_blank"}: Create a final data visualization that tells a story with the data. Compiled into a html document, and presented in a GitHub repository.

## Requirements Assignment 2

-   Use R Markdown (or Quarto) to create your visualizations.
-   The markdown document should be in the style of a report: explain your research question, and how you came to your conclusion. Not more than 1000 words.\
-   Include an exploratory graph, and explain how it helped you understand the data.
-   Only your final, explanatory graph, will be graded. Clearly mark which graph this is.

## Workflow

-   Comment your code clearly. We want to understand your thought process.
-   Collaborate within your group using Git & GitHub. You will set up your own project repository connected to the Data Visualization Server.
-   Make sure all documents render correctly, and that code is styled and runs.
-   Ô∏è‚ö† **Do not push any data to GitHub.**

## Workflow

-   [Working on the server](../documents/working-on-the-server.html){target="_blank"}

-   [Git setup & workflow](../documents/git-workflow.html){target="_blank"}

## First draft & peer review

-   First draft due Friday 10/10 12.30 -- No requirements.

-   Peer review due Friday 10/10 23.59 -- Review one other group's work. You will have time for this during Friday's class.

## üîó

[Choose RQ](https://docs.google.com/spreadsheets/d/1ppRe5PKrdawL8Q4QHAJpa6bfQfbVhmHZiWE7AxGaHSE/edit?gid=0#gid=0){target="_blank"}

# Interactive plots üïπÔ∏è {background-color="#8000FF"}

## Friday, Oct 3

-   Interactive visualizations with plotly
-   Work on assignment 1

##  {.larger .scrollable}

&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD

Some content

=======

Some conflicted content

&gt;&gt;&gt;&gt;&gt;&gt;&gt; new_branch

## Git conflicts {.smaller .scrollable}

[![](images/merge_conflict.png)](images/merge_conflict.png)

-   Happens when two people change the same file, and then try to push to GitHub.
-   Identify the content that you want to keep and delete the rest
-   Delete the `<<<<<<<`, `=======`, and `>>>>>>>` lines
-   Save the file, add, commit, and push again
-   [Need to resolve via command line?](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-using-the-command-line){target="_blank"}
-   Avoid by always starting you work session with a `git pull` (and make sure you don't have uncommitted changes)
-   Also communicate who is working on what


# Interactivity üéÆ {background-color="#8000FF"}

## üí¨ **Why use interactive visualizations?**
<br><br>

What advantages/disadvantages do interactive visualizations have over static plots?

## Advantages

::: incremental
-   Explore data dynamically
-   Zoom, pan, and hover for details
-   Reveal extra information without clutter
-   Enhance engagement in presentations and reports
-   Useful for exploratory analysis and dashboards
:::

## Disadvantages

::: incremental
-   Harder to include in static formats (papers, print)
-   Accessibility issues (screen readers, non colorblind-friendly defaults)
-   Can overwhelm the audience if overused
-   Larger file sizes, slower rendering
-   Requires additional packages/libraries (e.g., `{plotly}`)
:::

## {.center background-color="#8000FF"}

üß† **Interactivity enhances, but does not replace,  
the fundamentals of good data visualization**

## Plotly 
<br><br>

-   Free and open-source interactive graphing library
-   R users can access it via the `{plotly}` package: [plotly.com/r](https://plotly.com/r/)


## Plotly in R
<br><br>

Two main ways to creating a **plotly** object in R:

-   Convert a ggplot2 object with `ggplotly()`
-   Directly initialize a plotly object with `plot_ly()`

‚û°Ô∏è [**ggplotly() example with Oefenweb data**](https://ann1ejohansson.github.io/data-visualization-2025/documents/ggplotly-handout.html){target="_blank"}

## Additional functionalities in Plotly
<br><br>

With `plot_ly()`, you can add and control interactive elements such as:

-   [Adding custom controls](https://plotly.com/r/#controls)
-   [Animations](https://plotly.com/r/#animations)

::: footer
Source: [plotly.com/r](https://plotly.com/r/)
:::

## Requirements Assignment 1, part B (individual)

-   Make the static ggplot object interactive using the `{plotly}` package
-   Add a customized tooltip that displays additional information when you hover over the plot
